/*! 2015-04-27 */

!function(m){"use strict";function $load(languageToLoad){m.request({method:"GET",url:$infix()+languageToLoad+$suffix()}).then(function(translations){currentLanguage=languageToLoad||currentLanguage,storage.set(translations)})}function $infix(){return configuration.infix}function $suffix(){return configuration.suffix||""}window.mx=window.mx||{};var configuration,currentLanguage,Storage=function(){var _store_={};return{set:function(item){_store_[currentLanguage]=item},get:function(name){var translations=_store_[currentLanguage],result=translations;return name.split(".").forEach(function(property){result=result[property]}),result}}},validators={string:function(string){if("string"!=typeof string)throw new TypeError("a string is expected, but "+string+" ["+typeof string+"] given");return string},plainObject:function(object){if("object"!=typeof object)throw new TypeError("an object is expected, but "+object+"  ["+typeof object+"] given");return object}},storage=new Storage;mx.translate=function(item){return validators.string(item),storage.get(item)},mx.translate.configure=function(options){validators.plainObject(options),configuration=options},mx.translate.use=function(languageToUse){return languageToUse&&currentLanguage!==languageToUse?(validators.string(languageToUse),void $load(languageToUse)):currentLanguage}}(m);
//# sourceMappingURL=dist/mithril-translate.js.map