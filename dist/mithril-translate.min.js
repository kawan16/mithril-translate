/*! 2015-09-22 */

var mx_factory=function(a){"use strict";function b(b,c){f()&&a.startComputation(),i=b||i,m.set(c),f()&&a.endComputation()}function c(b){var c=a.deferred();if(f())a.request({method:"GET",url:d()+b+e()}).then(function(d){i=b||i,m.set(d),c.resolve(),a.endComputation()},function(b){c.reject(b),a.endComputation()});else if(g()){var h=require(d()+b+e());i=b||i,m.set(h),c.resolve()}return c.promise}function d(){return h.infix}function e(){return h.suffix||""}function f(){return"undefined"!=typeof window}function g(){return"undefined"!=typeof module}var h,i,j={},k=function(){var a={},b=/\{\{(.*?)\}\}/g;return{set:function(b){a[i]=b},get:function(c,d){var e=a[i],f=e;if(c.split(".").forEach(function(a){f=f[a]}),d){var g=f.match(b);for(var h in d)g.forEach(function(a){-1!==a.indexOf(h)&&(f=f.replace(a,d[h]))})}return f}}},l={string:function(a){if("string"!=typeof a)throw new TypeError("a string is expected, but "+a+" ["+typeof a+"] given");return a},plainObject:function(a){if("object"!=typeof a)throw new TypeError("an object is expected, but "+a+"  ["+typeof a+"] given");return a}},m=new k;return j.translate=function(a){if(l.string(a),arguments.length>1){var b=arguments[1];if(3===arguments.length){var c=arguments[2];return m.get(a+"."+c,b)}return"object"==typeof b?m.get(a,b):m.get(a+"."+b)}return m.get(a)},j.translate.configure=function(a){l.plainObject(a),h=a},j.translate.use=function(a,d){return a&&i!==a?(l.string(a),d?void b(a,d):c(a)):i},j};if("undefined"!=typeof window&&m&&(window.mx=mx_factory(m)),"undefined"!=typeof module&&null!==module&&module.exports){var m=require("mithril");module.exports=mx_factory(m)}
//# sourceMappingURL=./mithril-translate.js.map